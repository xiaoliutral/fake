# 前端功能测试清单

## 测试环境
- 前端：http://localhost:5174/
- 后端：http://localhost:5281/
- 默认账号：admin / 123456

## 1. 登录功能 ✓
- [ ] 输入正确账号密码，能成功登录
- [ ] 输入错误账号密码，显示后端返回的错误消息
- [ ] 登录成功后跳转到首页
- [ ] Token 正确保存到 localStorage

## 2. 用户管理 ✓
- [ ] 列表加载：显示用户列表，包含头像、用户名、账号、邮箱、角色、创建时间
- [ ] 搜索功能：输入关键字搜索用户
- [ ] 分页功能：切换页码和每页数量
- [ ] 新增用户：填写表单创建新用户
- [ ] 编辑用户：修改用户信息
- [ ] 删除用户：单个删除
- [ ] 批量删除：选中多个用户批量删除
- [ ] 分配角色：为用户分配角色
- [ ] 错误提示：操作失败时显示后端返回的错误消息
- [ ] 审计信息：显示创建时间（CreatedAt）

## 3. 角色管理 ✓
- [ ] 列表加载：显示角色列表，包含角色名称、角色编码、创建时间
- [ ] 分页功能：切换页码和每页数量
- [ ] 新增角色：填写表单创建新角色
- [ ] 编辑角色：修改角色信息
- [ ] 删除角色：删除角色
- [ ] 分配权限：为角色分配权限（树形选择）
- [ ] 错误提示：操作失败时显示后端返回的错误消息
- [ ] 审计信息：显示创建时间（CreatedAt）

## 4. 菜单管理 ✓
- [ ] 树形列表：以树形结构显示菜单
- [ ] 新增菜单：创建顶级菜单或子菜单
- [ ] 编辑菜单：修改菜单信息
- [ ] 删除菜单：删除菜单
- [ ] 菜单类型：支持菜单和按钮两种类型
- [ ] 图标显示：正确显示菜单图标
- [ ] 错误提示：操作失败时显示后端返回的错误消息

## 5. 权限控制 ✓
- [ ] 按钮权限：根据用户权限显示/隐藏操作按钮
- [ ] 菜单权限：根据用户权限显示菜单
- [ ] 未授权提示：无权限时显示提示消息

## 6. 错误处理 ✓
- [ ] 400 错误：显示后端返回的具体错误消息
- [ ] 401 错误：提示未授权，跳转到登录页
- [ ] 403 错误：提示没有权限
- [ ] 404 错误：提示资源不存在
- [ ] 500 错误：显示后端返回的错误消息
- [ ] 网络错误：提示网络连接问题

## 7. 审计属性映射 ✓
- [ ] CreateUserId → CreatedBy：创建人ID正确映射
- [ ] CreateTime → CreatedAt：创建时间正确映射
- [ ] UpdateUserId → UpdatedBy：更新人ID正确映射
- [ ] UpdateTime → UpdatedAt：更新时间正确映射
- [ ] 列表显示：创建时间正确显示
- [ ] 详情显示：审计信息完整显示

## 8. UI/UX ✓
- [ ] 响应式布局：不同屏幕尺寸正常显示
- [ ] 加载状态：操作时显示 loading
- [ ] 成功提示：操作成功显示绿色提示
- [ ] 错误提示：操作失败显示红色提示
- [ ] 确认对话框：删除操作前弹出确认框
- [ ] 表单验证：必填项验证正确

## 测试步骤

### 1. 登录测试
```
1. 访问 http://localhost:5174/
2. 输入 admin / 123456
3. 点击登录
4. 验证跳转到首页
```

### 2. 用户管理测试
```
1. 点击"系统管理" -> "用户管理"
2. 验证用户列表加载
3. 点击"新增用户"，填写表单
4. 点击"编辑"，修改用户信息
5. 点击"分配角色"，选择角色
6. 点击"删除"，确认删除
7. 选中多个用户，点击"批量删除"
8. 输入关键字搜索
```

### 3. 角色管理测试
```
1. 点击"系统管理" -> "角色管理"
2. 验证角色列表加载
3. 点击"新增角色"，填写表单
4. 点击"编辑"，修改角色信息
5. 点击"分配权限"，选择权限
6. 点击"删除"，确认删除
```

### 4. 菜单管理测试
```
1. 点击"系统管理" -> "菜单管理"
2. 验证菜单树加载
3. 点击"新增菜单"，填写表单
4. 点击"编辑"，修改菜单信息
5. 点击"删除"，确认删除
```

### 5. 错误处理测试
```
1. 创建重复账号的用户（测试 400 错误）
2. 清除 token，访问需要权限的页面（测试 401 错误）
3. 使用无权限账号访问（测试 403 错误）
4. 访问不存在的资源（测试 404 错误）
5. 断开网络连接，执行操作（测试网络错误）
```

## 已知问题

无

## 测试结果

- [ ] 所有功能测试通过
- [ ] 错误处理正确
- [ ] 审计属性映射正确
- [ ] UI/UX 符合预期

## 备注

- 所有 API 调用都使用自动生成的代码
- 错误消息从后端 response.body.message 中提取
- 审计属性通过 AutoMapper 正确映射
- Token 在登录时设置，在登出时清除
